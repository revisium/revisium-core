import { makeTypedQueryFactory as $mkFactory } from "@prisma/client/runtime/edge.js"
export const getTableDiffsPaginatedBetweenRevisions = /*#__PURE__*/ $mkFactory("\nWITH parent_tables AS (SELECT \"id\", \"createdId\", \"versionId\"\nFROM \"Table\"\nWHERE (\"Table\".\"versionId\") IN (SELECT \"t1\".\"B\"\nFROM \"_RevisionToTable\" AS \"t1\"\nINNER JOIN \"Revision\" AS \"j1\" ON (\"j1\".\"id\") = (\"t1\".\"A\")\nWHERE (\"j1\".\"id\" = $1 AND \"t1\".\"B\" IS NOT NULL))),\nchild_tables AS (SELECT \"id\", \"createdId\", \"versionId\"\nFROM \"Table\"\nWHERE (\"Table\".\"versionId\") IN (SELECT \"t1\".\"B\"\nFROM \"_RevisionToTable\" AS \"t1\"\nINNER JOIN \"Revision\" AS \"j1\" ON (\"j1\".\"id\") = (\"t1\".\"A\")\nWHERE (\"j1\".\"id\" = $2 AND \"t1\".\"B\" IS NOT NULL)))\nSELECT pt.\"id\"        AS \"fromId\",\npt.\"createdId\" AS \"fromCreatedId\",\npt.\"versionId\" AS \"fromVersionId\",\nct.\"id\"        AS \"toId\",\nct.\"createdId\" AS \"toCreatedId\",\nct.\"versionId\" AS \"toVersionId\",\nCASE\nWHEN pt.\"createdId\" IS NULL THEN 'added'\nWHEN ct.\"createdId\" IS NULL THEN 'removed'\nWHEN ct.\"versionId\" != pt.\"versionId\" THEN 'modified'\nEND        AS \"changeType\"\nFROM child_tables ct\nFULL OUTER JOIN parent_tables pt USING (\"createdId\")\nWHERE pt.\"createdId\" IS NULL\nOR ct.\"createdId\" IS NULL\nOR ct.\"versionId\" != pt.\"versionId\"\n\nLIMIT $3\nOFFSET $4\n")
